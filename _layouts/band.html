---
layout: default
---

{% assign number_of_gigs = site.categories[page.machine_name] | size %}
{% assign number_of_blogs = 0 %}
{% assign number_images = site.data.media.artists[page.machine_name]['medium'] | size %}
{% assign images = site.data.media.artists[page.machine_name]['medium'] | sample: 4 %}
{% assign artist_blog_posts = "" %}

{% for post in site.blog_posts %}
  {% if post.tags contains page.machine_name %}
    {% assign number_of_blogs = number_of_blogs | plus: 1 %}
  {% endif %}
{% endfor %}

<article class="band container-fluid" id="band">
  <div class="row">
      <a href="/artists">
          <div class="col-xs-12 divider link purple">
              <h5>Back to artists</h5>
          </div>
      </a>
  </div>
  <header class="post-header row">
    <div class="banner">

        {% if number_images > 4 %}
          {% for image in images %}
            {% assign full_pic = image | replace: " (Medium)","" %}
            {% assign url_encoded_image = image | uri_escape %}
            <div class="col-xs-12 col-md-6 col-lg-3" style="height: 100%; padding: 0px;">
              <a href="{{site.asset_url}}/{{full_pic | uri_escape }}" target="_blank" class="loading">
                <div class="banner b-lazy" data-src="{{site.asset_url}}/{{url_encoded_image}}"></div>
              </a>
            </div>
          {% endfor %}
        {% else %}
          {% for image in site.data.media.artists[page.machine_name]['medium'] limit: 1 %}
            {% assign url_encoded_image = image | uri_escape %}
            <div class="col-sm-12" style="height: 100%; padding: 0px;">
              <a href="{{site.asset_url}}/{{full_pic | uri_escape }}" target="_blank" class="loading">
                <div class="banner b-lazy" data-src="{{site.asset_url}}/{{url_encoded_image}}"></div>
              </a>
            </div>
          {% endfor %}
        {% endif %}
    </div>
    <div class="text">
      <center>
        <h1 class="huge-header">{{page.title}}</h1>
        <ul class="sidebar-nav horizontal" style="padding: 0px;">
          {% if page.facebook %}<li><a href="{{page.facebook}}" class="btn btn-default" title="Facebook" target="_blank">Facebook</a></li>{% endif %}
          {% if page.bandcamp %}<li><a href="{{page.bandcamp}}" class="btn btn-default" title="Bandcamp" target="_blank">Bandcamp</a></li>{% endif %}
          {% if page.soundcloud %}<li><a href="{{page.soundcloud}}" class="btn btn-default" title="Soundcloud" target="_blank">Soundcloud</a></li>{% endif %}
          {% if page.website %}<li><a href="{{page.website}}" class="btn btn-default" title="Website" target="_blank">Website</a></li>{% endif %}
          {% if page.audio_culture %}<li><a href="{{page.audio_culture.link}}" class="btn btn-default" title="Audio Culture" target="_blank">Audio Culture</a></li>{% endif %}
        </ul>
      </center>
    </div>
  </header>
  <div class="divider row" style="background-color: black; color: #c8c8c8;">
    <div class="col-xs-12 no-padding">
      <ul id="tabs" class="nav nav-tabs" role="tablist">
          <li class="active"><a data-toggle="tab" href="#gigs" role="tab">Gigs ({{number_of_gigs}})</a></li>
          {% if number_of_blogs > 0 %}
            <li><a data-toggle="tab" href="#blogs" role="tab">Blogs ({{number_of_blogs}})</a></li>
          {% endif %}
      </ul>
    </div>
  </div>
  <div class="tab-content">
    <div role="tabpanel" class="row tiles tab-pane fade in active" id="gigs">
      {% for tile in site.categories[page.machine_name] %}

        {% assign image_link = site.data.media.gigs[post.title][page.machine_name]['images'][0] | uri_escape %}

        {% include gig_tile.html class="smaller bottom" sizing="col-sm-12 col-md-6 col-lg-4" category="band" image=image_link %}

      {% endfor %}
    </div>

    {% if number_of_blogs > 0 %}
      <div role="tabpanel" class="container blog tab-pane fade in" id="blogs">
        <div class="row">
          {% for post in site.blog_posts %}
            {% if post.tags contains page.machine_name %}
              <div class="col-xs-12">
                {% include blog_snippet.html %}
              </div>
              <div class="col-xs-12">
                <hr>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>

</article>