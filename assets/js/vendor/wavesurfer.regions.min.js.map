{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///wavesurfer.regions.min.js","webpack:///webpack/bootstrap 57a772599fae26872894","webpack:///./src/plugin/regions.js"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","2","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Region","params","ws","_this","wavesurfer","wrapper","drawer","style","util","id","getId","start","Number","end","scrollWidth","getDuration","resize","undefined","Boolean","drag","loop","color","data","attributes","maxLength","minLength","_onRedraw","updateRender","bindInOut","render","on","fireEvent","element","removeChild","un","play","_this2","once","playLoop","regionEl","document","createElement","className","title","formatTime","setAttribute","attrname","position","zIndex","height","top","handleLeft","appendChild","handleRight","css","cursor","left","width","maxWidth","bindEvents","map","time","Math","floor","slice","join","pixelRatio","dur","getWidth","max","min","round","regionWidth","backgroundColor","_this3","firedIn","firedOut","onProcess","backend","_this4","addEventListener","e","preventDefault","stopPropagation","duration","startTime","touchId","onDown","touches","targetTouches","identifier","handleEvent","tagName","toLowerCase","classList","contains","onUp","onMove","delta","onDrag","onResize","body","removeEventListener","maxEnd","update","direction","RegionsPlugin","_this5","getOwnPropertyNames","Observer","forEach","list","_onReady","regions","region","add","dragSelection","enableDragSelection","deferInit","initRegions","console","warn","initPlugin","addRegion","options","initialisedPluginList","clearRegions","clear","disableDragSelection","isReady","_this6","_this7","keys","remove","_this8","slop","pxMove","eventDown","eventUp","eventMove","_this9","getCurrentTime","cur","default"],"mappings":"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","file":"wavesurfer.regions.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"regions\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"regions\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"regions\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"regions\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"regions\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"regions\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"localhost:8080/dist/plugin/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * (Single) Region plugin class\n *\n * Must be turned into an observer before instantiating. This is done in\n * RegionsPlugin (main plugin class)\n *\n * @extends {Observer}\n */\nvar Region = function () {\n    function Region(params, ws) {\n        var _this = this;\n\n        _classCallCheck(this, Region);\n\n        this.wavesurfer = ws;\n        this.wrapper = ws.drawer.wrapper;\n        this.style = ws.util.style;\n\n        this.id = params.id == null ? ws.util.getId() : params.id;\n        this.start = Number(params.start) || 0;\n        this.end = params.end == null ? // small marker-like region\n        this.start + 4 / this.wrapper.scrollWidth * this.wavesurfer.getDuration() : Number(params.end);\n        this.resize = params.resize === undefined ? true : Boolean(params.resize);\n        this.drag = params.drag === undefined ? true : Boolean(params.drag);\n        this.loop = Boolean(params.loop);\n        this.color = params.color || 'rgba(0, 0, 0, 0.1)';\n        this.data = params.data || {};\n        this.attributes = params.attributes || {};\n\n        this.maxLength = params.maxLength;\n        this.minLength = params.minLength;\n        this._onRedraw = function () {\n            return _this.updateRender();\n        };\n\n        this.bindInOut();\n        this.render();\n        this.wavesurfer.on('zoom', this._onRedraw);\n        this.wavesurfer.on('redraw', this._onRedraw);\n        this.wavesurfer.fireEvent('region-created', this);\n    }\n\n    /* Update region params. */\n\n\n    _createClass(Region, [{\n        key: 'update',\n        value: function update(params) {\n            if (null != params.start) {\n                this.start = Number(params.start);\n            }\n            if (null != params.end) {\n                this.end = Number(params.end);\n            }\n            if (null != params.loop) {\n                this.loop = Boolean(params.loop);\n            }\n            if (null != params.color) {\n                this.color = params.color;\n            }\n            if (null != params.data) {\n                this.data = params.data;\n            }\n            if (null != params.resize) {\n                this.resize = Boolean(params.resize);\n            }\n            if (null != params.drag) {\n                this.drag = Boolean(params.drag);\n            }\n            if (null != params.maxLength) {\n                this.maxLength = Number(params.maxLength);\n            }\n            if (null != params.minLength) {\n                this.minLength = Number(params.minLength);\n            }\n            if (null != params.attributes) {\n                this.attributes = params.attributes;\n            }\n\n            this.updateRender();\n            this.fireEvent('update');\n            this.wavesurfer.fireEvent('region-updated', this);\n        }\n\n        /* Remove a single region. */\n\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.element) {\n                this.wrapper.removeChild(this.element);\n                this.element = null;\n                this.fireEvent('remove');\n                this.wavesurfer.un('zoom', this._onRedraw);\n                this.wavesurfer.un('redraw', this._onRedraw);\n                this.wavesurfer.fireEvent('region-removed', this);\n            }\n        }\n\n        /* Play the audio region. */\n\n    }, {\n        key: 'play',\n        value: function play() {\n            this.wavesurfer.play(this.start, this.end);\n            this.fireEvent('play');\n            this.wavesurfer.fireEvent('region-play', this);\n        }\n\n        /* Play the region in loop. */\n\n    }, {\n        key: 'playLoop',\n        value: function playLoop() {\n            var _this2 = this;\n\n            this.play();\n            this.once('out', function () {\n                return _this2.playLoop();\n            });\n        }\n\n        /* Render a region as a DOM element. */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var regionEl = document.createElement('region');\n            regionEl.className = 'wavesurfer-region';\n            regionEl.title = this.formatTime(this.start, this.end);\n            regionEl.setAttribute('data-id', this.id);\n\n            for (var attrname in this.attributes) {\n                regionEl.setAttribute('data-region-' + attrname, this.attributes[attrname]);\n            }\n\n            var width = this.wrapper.scrollWidth;\n            this.style(regionEl, {\n                position: 'absolute',\n                zIndex: 2,\n                height: '100%',\n                top: '0px'\n            });\n\n            /* Resize handles */\n            if (this.resize) {\n                var handleLeft = regionEl.appendChild(document.createElement('handle'));\n                var handleRight = regionEl.appendChild(document.createElement('handle'));\n                handleLeft.className = 'wavesurfer-handle wavesurfer-handle-start';\n                handleRight.className = 'wavesurfer-handle wavesurfer-handle-end';\n                var css = {\n                    cursor: 'col-resize',\n                    position: 'absolute',\n                    left: '0px',\n                    top: '0px',\n                    width: '1%',\n                    maxWidth: '4px',\n                    height: '100%'\n                };\n                this.style(handleLeft, css);\n                this.style(handleRight, css);\n                this.style(handleRight, {\n                    left: '100%'\n                });\n            }\n\n            this.element = this.wrapper.appendChild(regionEl);\n            this.updateRender();\n            this.bindEvents(regionEl);\n        }\n    }, {\n        key: 'formatTime',\n        value: function formatTime(start, end) {\n            return (start == end ? [start] : [start, end]).map(function (time) {\n                return [Math.floor(time % 3600 / 60), // minutes\n                ('00' + Math.floor(time % 60)).slice(-2) // seconds\n                ].join(':');\n            }).join('-');\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n        }\n\n        /* Update element's position, width, color. */\n\n    }, {\n        key: 'updateRender',\n        value: function updateRender() {\n            var dur = this.wavesurfer.getDuration();\n            var width = this.getWidth();\n\n            if (this.start < 0) {\n                this.start = 0;\n                this.end = this.end - this.start;\n            }\n            if (this.end > dur) {\n                this.end = dur;\n                this.start = dur - (this.end - this.start);\n            }\n\n            if (this.minLength != null) {\n                this.end = Math.max(this.start + this.minLength, this.end);\n            }\n\n            if (this.maxLength != null) {\n                this.end = Math.min(this.start + this.maxLength, this.end);\n            }\n\n            if (this.element != null) {\n                // Calculate the left and width values of the region such that\n                // no gaps appear between regions.\n                var left = Math.round(this.start / dur * width);\n                var regionWidth = Math.round(this.end / dur * width) - left;\n\n                this.style(this.element, {\n                    left: left + 'px',\n                    width: regionWidth + 'px',\n                    backgroundColor: this.color,\n                    cursor: this.drag ? 'move' : 'default'\n                });\n\n                for (var attrname in this.attributes) {\n                    this.element.setAttribute('data-region-' + attrname, this.attributes[attrname]);\n                }\n\n                this.element.title = this.formatTime(this.start, this.end);\n            }\n        }\n\n        /* Bind audio events. */\n\n    }, {\n        key: 'bindInOut',\n        value: function bindInOut() {\n            var _this3 = this;\n\n            this.firedIn = false;\n            this.firedOut = false;\n\n            var onProcess = function onProcess(time) {\n                if (!_this3.firedOut && _this3.firedIn && (_this3.start >= Math.round(time * 100) / 100 || _this3.end <= Math.round(time * 100) / 100)) {\n                    _this3.firedOut = true;\n                    _this3.firedIn = false;\n                    _this3.fireEvent('out');\n                    _this3.wavesurfer.fireEvent('region-out', _this3);\n                }\n                if (!_this3.firedIn && _this3.start <= time && _this3.end > time) {\n                    _this3.firedIn = true;\n                    _this3.firedOut = false;\n                    _this3.fireEvent('in');\n                    _this3.wavesurfer.fireEvent('region-in', _this3);\n                }\n            };\n\n            this.wavesurfer.backend.on('audioprocess', onProcess);\n\n            this.on('remove', function () {\n                _this3.wavesurfer.backend.un('audioprocess', onProcess);\n            });\n\n            /* Loop playback. */\n            this.on('out', function () {\n                if (_this3.loop) {\n                    _this3.wavesurfer.play(_this3.start);\n                }\n            });\n        }\n\n        /* Bind DOM events. */\n\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents() {\n            var _this4 = this;\n\n            this.element.addEventListener('mouseenter', function (e) {\n                _this4.fireEvent('mouseenter', e);\n                _this4.wavesurfer.fireEvent('region-mouseenter', _this4, e);\n            });\n\n            this.element.addEventListener('mouseleave', function (e) {\n                _this4.fireEvent('mouseleave', e);\n                _this4.wavesurfer.fireEvent('region-mouseleave', _this4, e);\n            });\n\n            this.element.addEventListener('click', function (e) {\n                e.preventDefault();\n                _this4.fireEvent('click', e);\n                _this4.wavesurfer.fireEvent('region-click', _this4, e);\n            });\n\n            this.element.addEventListener('dblclick', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                _this4.fireEvent('dblclick', e);\n                _this4.wavesurfer.fireEvent('region-dblclick', _this4, e);\n            });\n\n            /* Drag or resize on mousemove. */\n            (this.drag || this.resize) && function () {\n                var duration = _this4.wavesurfer.getDuration();\n                var startTime = void 0;\n                var touchId = void 0;\n                var drag = void 0;\n                var resize = void 0;\n\n                var onDown = function onDown(e) {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n                    touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n                    e.stopPropagation();\n                    startTime = _this4.wavesurfer.drawer.handleEvent(e, true) * duration;\n\n                    if (e.target.tagName.toLowerCase() == 'handle') {\n                        if (e.target.classList.contains('wavesurfer-handle-start')) {\n                            resize = 'start';\n                        } else {\n                            resize = 'end';\n                        }\n                    } else {\n                        drag = true;\n                        resize = false;\n                    }\n                };\n                var onUp = function onUp(e) {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n\n                    if (drag || resize) {\n                        drag = false;\n                        resize = false;\n\n                        _this4.fireEvent('update-end', e);\n                        _this4.wavesurfer.fireEvent('region-update-end', _this4, e);\n                    }\n                };\n                var onMove = function onMove(e) {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n                    if (e.targetTouches && e.targetTouches[0].identifier != touchId) {\n                        return;\n                    }\n\n                    if (drag || resize) {\n                        var time = _this4.wavesurfer.drawer.handleEvent(e) * duration;\n                        var delta = time - startTime;\n                        startTime = time;\n\n                        // Drag\n                        if (_this4.drag && drag) {\n                            _this4.onDrag(delta);\n                        }\n\n                        // Resize\n                        if (_this4.resize && resize) {\n                            _this4.onResize(delta, resize);\n                        }\n                    }\n                };\n\n                _this4.element.addEventListener('mousedown', onDown);\n                _this4.element.addEventListener('touchstart', onDown);\n\n                _this4.wrapper.addEventListener('mousemove', onMove);\n                _this4.wrapper.addEventListener('touchmove', onMove);\n\n                document.body.addEventListener('mouseup', onUp);\n                document.body.addEventListener('touchend', onUp);\n\n                _this4.on('remove', function () {\n                    document.body.removeEventListener('mouseup', onUp);\n                    document.body.removeEventListener('touchend', onUp);\n                    _this4.wrapper.removeEventListener('mousemove', onMove);\n                    _this4.wrapper.removeEventListener('touchmove', onMove);\n                });\n\n                _this4.wavesurfer.on('destroy', function () {\n                    document.body.removeEventListener('mouseup', onUp);\n                    document.body.removeEventListener('touchend', onUp);\n                });\n            }();\n        }\n    }, {\n        key: 'onDrag',\n        value: function onDrag(delta) {\n            var maxEnd = this.wavesurfer.getDuration();\n            if (this.end + delta > maxEnd || this.start + delta < 0) {\n                return;\n            }\n\n            this.update({\n                start: this.start + delta,\n                end: this.end + delta\n            });\n        }\n    }, {\n        key: 'onResize',\n        value: function onResize(delta, direction) {\n            if (direction == 'start') {\n                this.update({\n                    start: Math.min(this.start + delta, this.end),\n                    end: Math.max(this.start + delta, this.end)\n                });\n            } else {\n                this.update({\n                    start: Math.min(this.end + delta, this.start),\n                    end: Math.max(this.end + delta, this.start)\n                });\n            }\n        }\n    }]);\n\n    return Region;\n}();\n\n/**\n * @typedef {Object} RegionsPluginParams\n * @property {?boolean} dragSelection Enable creating regions by dragging wih\n * the mouse\n * @property {?RegionParams[]} regions Regions that should be added upon\n * initialisation\n * @property {number} slop=2 The sensitivity of the mouse dragging\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('regions')`\n */\n\n/**\n * @typedef {Object} RegionParams\n * @desc The parameters used to describe a region.\n * @example wavesurfer.addRegion(regionParams);\n * @property {string} id=→random The id of the region\n * @property {number} start=0 The start position of the region (in seconds).\n * @property {number} end=0 The end position of the region (in seconds).\n * @property {?boolean} loop Whether to loop the region when played back.\n * @property {boolean} drag=true Allow/dissallow dragging the region.\n * @property {boolean} resize=true Allow/dissallow resizing the region.\n * @property {string} [color='rgba(0, 0, 0, 0.1)'] HTML color code.\n */\n\n/**\n * Regions are visual overlays on waveform that can be used to play and loop\n * portions of audio. Regions can be dragged and resized.\n *\n * Visual customization is possible via CSS (using the selectors\n * `.wavesurfer-region` and `.wavesurfer-handle`).\n *\n * @implements {PluginClass}\n * @extends {Observer}\n *\n * @example\n * // es6\n * import RegionsPlugin from 'wavesurfer.regions.js';\n *\n * // commonjs\n * var RegionsPlugin = require('wavesurfer.regions.js');\n *\n * // if you are using <script> tags\n * var RegionsPlugin = window.WaveSurfer.regions;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     RegionsPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\n\n\nvar RegionsPlugin = function () {\n    _createClass(RegionsPlugin, null, [{\n        key: 'create',\n\n        /**\n         * Regions plugin definition factory\n         *\n         * This function must be used to create a plugin definition which can be\n         * used by wavesurfer to correctly instantiate the plugin.\n         *\n         * @param {RegionsPluginParams} params parameters use to initialise the plugin\n         * @return {PluginDefinition} an object representing the plugin\n         */\n        value: function create(params) {\n            return {\n                name: 'regions',\n                deferInit: params && params.deferInit ? params.deferInit : false,\n                params: params,\n                staticProps: {\n                    initRegions: function initRegions() {\n                        console.warn('Deprecated initRegions! Use wavesurfer.initPlugins(\"regions\") instead!');\n                        this.initPlugin('regions');\n                    },\n                    addRegion: function addRegion(options) {\n                        if (!this.initialisedPluginList.regions) {\n                            this.initPlugin('regions');\n                        }\n                        return this.regions.add(options);\n                    },\n                    clearRegions: function clearRegions() {\n                        this.regions && this.regions.clear();\n                    },\n                    enableDragSelection: function enableDragSelection(options) {\n                        if (!this.initialisedPluginList.regions) {\n                            this.initPlugin('regions');\n                        }\n                        this.regions.enableDragSelection(options);\n                    },\n                    disableDragSelection: function disableDragSelection() {\n                        this.regions.disableDragSelection();\n                    }\n                },\n                instance: RegionsPlugin\n            };\n        }\n    }]);\n\n    function RegionsPlugin(params, ws) {\n        var _this5 = this;\n\n        _classCallCheck(this, RegionsPlugin);\n\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n\n        // turn the plugin instance into an observer\n        var observerPrototypeKeys = Object.getOwnPropertyNames(this.util.Observer.prototype);\n        observerPrototypeKeys.forEach(function (key) {\n            Region.prototype[key] = _this5.util.Observer.prototype[key];\n        });\n        this.wavesurfer.Region = Region;\n\n        // Id-based hash of regions.\n        this.list = {};\n        this._onReady = function () {\n            _this5.wrapper = _this5.wavesurfer.drawer.wrapper;\n            if (_this5.params.regions) {\n                _this5.params.regions.forEach(function (region) {\n                    _this5.add(region);\n                });\n            }\n            if (_this5.params.dragSelection) {\n                _this5.enableDragSelection(_this5.params);\n            }\n        };\n    }\n\n    _createClass(RegionsPlugin, [{\n        key: 'init',\n        value: function init() {\n            // Check if ws is ready\n            if (this.wavesurfer.isReady) {\n                this._onReady();\n            }\n            this.wavesurfer.on('ready', this._onReady);\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.wavesurfer.un('ready', this._onReady);\n            this.disableDragSelection();\n            this.clear();\n        }\n        /* Add a region. */\n\n    }, {\n        key: 'add',\n        value: function add(params) {\n            var _this6 = this;\n\n            var region = new this.wavesurfer.Region(params, this.wavesurfer);\n\n            this.list[region.id] = region;\n\n            region.on('remove', function () {\n                delete _this6.list[region.id];\n            });\n\n            return region;\n        }\n\n        /* Remove all regions. */\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            var _this7 = this;\n\n            Object.keys(this.list).forEach(function (id) {\n                _this7.list[id].remove();\n            });\n        }\n    }, {\n        key: 'enableDragSelection',\n        value: function enableDragSelection(params) {\n            var _this8 = this;\n\n            var slop = params.slop || 2;\n            var drag = void 0;\n            var start = void 0;\n            var region = void 0;\n            var touchId = void 0;\n            var pxMove = 0;\n\n            var eventDown = function eventDown(e) {\n                if (e.touches && e.touches.length > 1) {\n                    return;\n                }\n                touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n                drag = true;\n                start = _this8.wavesurfer.drawer.handleEvent(e, true);\n                region = null;\n            };\n            this.wrapper.addEventListener('mousedown', eventDown);\n            this.wrapper.addEventListener('touchstart', eventDown);\n            this.on('disable-drag-selection', function () {\n                _this8.wrapper.removeEventListener('touchstart', eventDown);\n                _this8.wrapper.removeEventListener('mousedown', eventDown);\n            });\n\n            var eventUp = function eventUp(e) {\n                if (e.touches && e.touches.length > 1) {\n                    return;\n                }\n\n                drag = false;\n                pxMove = 0;\n\n                if (region) {\n                    region.fireEvent('update-end', e);\n                    _this8.wavesurfer.fireEvent('region-update-end', region, e);\n                }\n\n                region = null;\n            };\n            this.wrapper.addEventListener('mouseup', eventUp);\n            this.wrapper.addEventListener('touchend', eventUp);\n            this.on('disable-drag-selection', function () {\n                _this8.wrapper.removeEventListener('touchend', eventUp);\n                _this8.wrapper.removeEventListener('mouseup', eventUp);\n            });\n\n            var eventMove = function eventMove(e) {\n                if (!drag) {\n                    return;\n                }\n                if (++pxMove <= slop) {\n                    return;\n                }\n\n                if (e.touches && e.touches.length > 1) {\n                    return;\n                }\n                if (e.targetTouches && e.targetTouches[0].identifier != touchId) {\n                    return;\n                }\n\n                if (!region) {\n                    region = _this8.add(params || {});\n                }\n\n                var duration = _this8.wavesurfer.getDuration();\n                var end = _this8.wavesurfer.drawer.handleEvent(e);\n                region.update({\n                    start: Math.min(end * duration, start * duration),\n                    end: Math.max(end * duration, start * duration)\n                });\n            };\n            this.wrapper.addEventListener('mousemove', eventMove);\n            this.wrapper.addEventListener('touchmove', eventMove);\n            this.on('disable-drag-selection', function () {\n                _this8.wrapper.removeEventListener('touchmove', eventMove);\n                _this8.wrapper.removeEventListener('mousemove', eventMove);\n            });\n        }\n    }, {\n        key: 'disableDragSelection',\n        value: function disableDragSelection() {\n            this.fireEvent('disable-drag-selection');\n        }\n\n        /* Get current region\n         *  The smallest region that contains the current time.\n         *  If several such regions exist, we take the first.\n         *  Return null if none exist. */\n\n    }, {\n        key: 'getCurrentRegion',\n        value: function getCurrentRegion() {\n            var _this9 = this;\n\n            var time = this.wavesurfer.getCurrentTime();\n            var min = null;\n            Object.keys(this.list).forEach(function (id) {\n                var cur = _this9.list[id];\n                if (cur.start <= time && cur.end >= time) {\n                    if (!min || cur.end - cur.start < min.end - min.start) {\n                        min = cur;\n                    }\n                }\n            });\n\n            return min;\n        }\n    }]);\n\n    return RegionsPlugin;\n}();\n\nexports.default = RegionsPlugin;\nmodule.exports = exports['default'];\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// wavesurfer.regions.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"localhost:8080/dist/plugin/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 57a772599fae26872894","/**\n * (Single) Region plugin class\n *\n * Must be turned into an observer before instantiating. This is done in\n * RegionsPlugin (main plugin class)\n *\n * @extends {Observer}\n */\nclass Region {\n    constructor(params, ws) {\n        this.wavesurfer = ws;\n        this.wrapper = ws.drawer.wrapper;\n        this.style = ws.util.style;\n\n        this.id = params.id == null ? ws.util.getId() : params.id;\n        this.start = Number(params.start) || 0;\n        this.end =\n            params.end == null\n                ? // small marker-like region\n                  this.start +\n                  4 / this.wrapper.scrollWidth * this.wavesurfer.getDuration()\n                : Number(params.end);\n        this.resize =\n            params.resize === undefined ? true : Boolean(params.resize);\n        this.drag = params.drag === undefined ? true : Boolean(params.drag);\n        this.loop = Boolean(params.loop);\n        this.color = params.color || 'rgba(0, 0, 0, 0.1)';\n        this.data = params.data || {};\n        this.attributes = params.attributes || {};\n\n        this.maxLength = params.maxLength;\n        this.minLength = params.minLength;\n        this._onRedraw = () => this.updateRender();\n\n        this.bindInOut();\n        this.render();\n        this.wavesurfer.on('zoom', this._onRedraw);\n        this.wavesurfer.on('redraw', this._onRedraw);\n        this.wavesurfer.fireEvent('region-created', this);\n    }\n\n    /* Update region params. */\n    update(params) {\n        if (null != params.start) {\n            this.start = Number(params.start);\n        }\n        if (null != params.end) {\n            this.end = Number(params.end);\n        }\n        if (null != params.loop) {\n            this.loop = Boolean(params.loop);\n        }\n        if (null != params.color) {\n            this.color = params.color;\n        }\n        if (null != params.data) {\n            this.data = params.data;\n        }\n        if (null != params.resize) {\n            this.resize = Boolean(params.resize);\n        }\n        if (null != params.drag) {\n            this.drag = Boolean(params.drag);\n        }\n        if (null != params.maxLength) {\n            this.maxLength = Number(params.maxLength);\n        }\n        if (null != params.minLength) {\n            this.minLength = Number(params.minLength);\n        }\n        if (null != params.attributes) {\n            this.attributes = params.attributes;\n        }\n\n        this.updateRender();\n        this.fireEvent('update');\n        this.wavesurfer.fireEvent('region-updated', this);\n    }\n\n    /* Remove a single region. */\n    remove() {\n        if (this.element) {\n            this.wrapper.removeChild(this.element);\n            this.element = null;\n            this.fireEvent('remove');\n            this.wavesurfer.un('zoom', this._onRedraw);\n            this.wavesurfer.un('redraw', this._onRedraw);\n            this.wavesurfer.fireEvent('region-removed', this);\n        }\n    }\n\n    /* Play the audio region. */\n    play() {\n        this.wavesurfer.play(this.start, this.end);\n        this.fireEvent('play');\n        this.wavesurfer.fireEvent('region-play', this);\n    }\n\n    /* Play the region in loop. */\n    playLoop() {\n        this.play();\n        this.once('out', () => this.playLoop());\n    }\n\n    /* Render a region as a DOM element. */\n    render() {\n        const regionEl = document.createElement('region');\n        regionEl.className = 'wavesurfer-region';\n        regionEl.title = this.formatTime(this.start, this.end);\n        regionEl.setAttribute('data-id', this.id);\n\n        for (const attrname in this.attributes) {\n            regionEl.setAttribute(\n                'data-region-' + attrname,\n                this.attributes[attrname]\n            );\n        }\n\n        const width = this.wrapper.scrollWidth;\n        this.style(regionEl, {\n            position: 'absolute',\n            zIndex: 2,\n            height: '100%',\n            top: '0px'\n        });\n\n        /* Resize handles */\n        if (this.resize) {\n            const handleLeft = regionEl.appendChild(\n                document.createElement('handle')\n            );\n            const handleRight = regionEl.appendChild(\n                document.createElement('handle')\n            );\n            handleLeft.className = 'wavesurfer-handle wavesurfer-handle-start';\n            handleRight.className = 'wavesurfer-handle wavesurfer-handle-end';\n            const css = {\n                cursor: 'col-resize',\n                position: 'absolute',\n                left: '0px',\n                top: '0px',\n                width: '1%',\n                maxWidth: '4px',\n                height: '100%'\n            };\n            this.style(handleLeft, css);\n            this.style(handleRight, css);\n            this.style(handleRight, {\n                left: '100%'\n            });\n        }\n\n        this.element = this.wrapper.appendChild(regionEl);\n        this.updateRender();\n        this.bindEvents(regionEl);\n    }\n\n    formatTime(start, end) {\n        return (start == end ? [start] : [start, end])\n            .map(time =>\n                [\n                    Math.floor((time % 3600) / 60), // minutes\n                    ('00' + Math.floor(time % 60)).slice(-2) // seconds\n                ].join(':')\n            )\n            .join('-');\n    }\n\n    getWidth() {\n        return this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n    }\n\n    /* Update element's position, width, color. */\n    updateRender() {\n        const dur = this.wavesurfer.getDuration();\n        const width = this.getWidth();\n\n        if (this.start < 0) {\n            this.start = 0;\n            this.end = this.end - this.start;\n        }\n        if (this.end > dur) {\n            this.end = dur;\n            this.start = dur - (this.end - this.start);\n        }\n\n        if (this.minLength != null) {\n            this.end = Math.max(this.start + this.minLength, this.end);\n        }\n\n        if (this.maxLength != null) {\n            this.end = Math.min(this.start + this.maxLength, this.end);\n        }\n\n        if (this.element != null) {\n            // Calculate the left and width values of the region such that\n            // no gaps appear between regions.\n            const left = Math.round(this.start / dur * width);\n            const regionWidth = Math.round(this.end / dur * width) - left;\n\n            this.style(this.element, {\n                left: left + 'px',\n                width: regionWidth + 'px',\n                backgroundColor: this.color,\n                cursor: this.drag ? 'move' : 'default'\n            });\n\n            for (const attrname in this.attributes) {\n                this.element.setAttribute(\n                    'data-region-' + attrname,\n                    this.attributes[attrname]\n                );\n            }\n\n            this.element.title = this.formatTime(this.start, this.end);\n        }\n    }\n\n    /* Bind audio events. */\n    bindInOut() {\n        this.firedIn = false;\n        this.firedOut = false;\n\n        const onProcess = time => {\n            if (\n                !this.firedOut &&\n                this.firedIn &&\n                (this.start >= Math.round(time * 100) / 100 ||\n                    this.end <= Math.round(time * 100) / 100)\n            ) {\n                this.firedOut = true;\n                this.firedIn = false;\n                this.fireEvent('out');\n                this.wavesurfer.fireEvent('region-out', this);\n            }\n            if (!this.firedIn && this.start <= time && this.end > time) {\n                this.firedIn = true;\n                this.firedOut = false;\n                this.fireEvent('in');\n                this.wavesurfer.fireEvent('region-in', this);\n            }\n        };\n\n        this.wavesurfer.backend.on('audioprocess', onProcess);\n\n        this.on('remove', () => {\n            this.wavesurfer.backend.un('audioprocess', onProcess);\n        });\n\n        /* Loop playback. */\n        this.on('out', () => {\n            if (this.loop) {\n                this.wavesurfer.play(this.start);\n            }\n        });\n    }\n\n    /* Bind DOM events. */\n    bindEvents() {\n        this.element.addEventListener('mouseenter', e => {\n            this.fireEvent('mouseenter', e);\n            this.wavesurfer.fireEvent('region-mouseenter', this, e);\n        });\n\n        this.element.addEventListener('mouseleave', e => {\n            this.fireEvent('mouseleave', e);\n            this.wavesurfer.fireEvent('region-mouseleave', this, e);\n        });\n\n        this.element.addEventListener('click', e => {\n            e.preventDefault();\n            this.fireEvent('click', e);\n            this.wavesurfer.fireEvent('region-click', this, e);\n        });\n\n        this.element.addEventListener('dblclick', e => {\n            e.stopPropagation();\n            e.preventDefault();\n            this.fireEvent('dblclick', e);\n            this.wavesurfer.fireEvent('region-dblclick', this, e);\n        });\n\n        /* Drag or resize on mousemove. */\n        (this.drag || this.resize) &&\n            (() => {\n                const duration = this.wavesurfer.getDuration();\n                let startTime;\n                let touchId;\n                let drag;\n                let resize;\n\n                const onDown = e => {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n                    touchId = e.targetTouches\n                        ? e.targetTouches[0].identifier\n                        : null;\n\n                    e.stopPropagation();\n                    startTime =\n                        this.wavesurfer.drawer.handleEvent(e, true) * duration;\n\n                    if (e.target.tagName.toLowerCase() == 'handle') {\n                        if (\n                            e.target.classList.contains(\n                                'wavesurfer-handle-start'\n                            )\n                        ) {\n                            resize = 'start';\n                        } else {\n                            resize = 'end';\n                        }\n                    } else {\n                        drag = true;\n                        resize = false;\n                    }\n                };\n                const onUp = e => {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n\n                    if (drag || resize) {\n                        drag = false;\n                        resize = false;\n\n                        this.fireEvent('update-end', e);\n                        this.wavesurfer.fireEvent('region-update-end', this, e);\n                    }\n                };\n                const onMove = e => {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n                    if (\n                        e.targetTouches &&\n                        e.targetTouches[0].identifier != touchId\n                    ) {\n                        return;\n                    }\n\n                    if (drag || resize) {\n                        const time =\n                            this.wavesurfer.drawer.handleEvent(e) * duration;\n                        const delta = time - startTime;\n                        startTime = time;\n\n                        // Drag\n                        if (this.drag && drag) {\n                            this.onDrag(delta);\n                        }\n\n                        // Resize\n                        if (this.resize && resize) {\n                            this.onResize(delta, resize);\n                        }\n                    }\n                };\n\n                this.element.addEventListener('mousedown', onDown);\n                this.element.addEventListener('touchstart', onDown);\n\n                this.wrapper.addEventListener('mousemove', onMove);\n                this.wrapper.addEventListener('touchmove', onMove);\n\n                document.body.addEventListener('mouseup', onUp);\n                document.body.addEventListener('touchend', onUp);\n\n                this.on('remove', () => {\n                    document.body.removeEventListener('mouseup', onUp);\n                    document.body.removeEventListener('touchend', onUp);\n                    this.wrapper.removeEventListener('mousemove', onMove);\n                    this.wrapper.removeEventListener('touchmove', onMove);\n                });\n\n                this.wavesurfer.on('destroy', () => {\n                    document.body.removeEventListener('mouseup', onUp);\n                    document.body.removeEventListener('touchend', onUp);\n                });\n            })();\n    }\n\n    onDrag(delta) {\n        const maxEnd = this.wavesurfer.getDuration();\n        if (this.end + delta > maxEnd || this.start + delta < 0) {\n            return;\n        }\n\n        this.update({\n            start: this.start + delta,\n            end: this.end + delta\n        });\n    }\n\n    onResize(delta, direction) {\n        if (direction == 'start') {\n            this.update({\n                start: Math.min(this.start + delta, this.end),\n                end: Math.max(this.start + delta, this.end)\n            });\n        } else {\n            this.update({\n                start: Math.min(this.end + delta, this.start),\n                end: Math.max(this.end + delta, this.start)\n            });\n        }\n    }\n}\n\n/**\n * @typedef {Object} RegionsPluginParams\n * @property {?boolean} dragSelection Enable creating regions by dragging wih\n * the mouse\n * @property {?RegionParams[]} regions Regions that should be added upon\n * initialisation\n * @property {number} slop=2 The sensitivity of the mouse dragging\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('regions')`\n */\n\n/**\n * @typedef {Object} RegionParams\n * @desc The parameters used to describe a region.\n * @example wavesurfer.addRegion(regionParams);\n * @property {string} id=→random The id of the region\n * @property {number} start=0 The start position of the region (in seconds).\n * @property {number} end=0 The end position of the region (in seconds).\n * @property {?boolean} loop Whether to loop the region when played back.\n * @property {boolean} drag=true Allow/dissallow dragging the region.\n * @property {boolean} resize=true Allow/dissallow resizing the region.\n * @property {string} [color='rgba(0, 0, 0, 0.1)'] HTML color code.\n */\n\n/**\n * Regions are visual overlays on waveform that can be used to play and loop\n * portions of audio. Regions can be dragged and resized.\n *\n * Visual customization is possible via CSS (using the selectors\n * `.wavesurfer-region` and `.wavesurfer-handle`).\n *\n * @implements {PluginClass}\n * @extends {Observer}\n *\n * @example\n * // es6\n * import RegionsPlugin from 'wavesurfer.regions.js';\n *\n * // commonjs\n * var RegionsPlugin = require('wavesurfer.regions.js');\n *\n * // if you are using <script> tags\n * var RegionsPlugin = window.WaveSurfer.regions;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     RegionsPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class RegionsPlugin {\n    /**\n     * Regions plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {RegionsPluginParams} params parameters use to initialise the plugin\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'regions',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                initRegions() {\n                    console.warn(\n                        'Deprecated initRegions! Use wavesurfer.initPlugins(\"regions\") instead!'\n                    );\n                    this.initPlugin('regions');\n                },\n\n                addRegion(options) {\n                    if (!this.initialisedPluginList.regions) {\n                        this.initPlugin('regions');\n                    }\n                    return this.regions.add(options);\n                },\n\n                clearRegions() {\n                    this.regions && this.regions.clear();\n                },\n\n                enableDragSelection(options) {\n                    if (!this.initialisedPluginList.regions) {\n                        this.initPlugin('regions');\n                    }\n                    this.regions.enableDragSelection(options);\n                },\n\n                disableDragSelection() {\n                    this.regions.disableDragSelection();\n                }\n            },\n            instance: RegionsPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n\n        // turn the plugin instance into an observer\n        const observerPrototypeKeys = Object.getOwnPropertyNames(\n            this.util.Observer.prototype\n        );\n        observerPrototypeKeys.forEach(key => {\n            Region.prototype[key] = this.util.Observer.prototype[key];\n        });\n        this.wavesurfer.Region = Region;\n\n        // Id-based hash of regions.\n        this.list = {};\n        this._onReady = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            if (this.params.regions) {\n                this.params.regions.forEach(region => {\n                    this.add(region);\n                });\n            }\n            if (this.params.dragSelection) {\n                this.enableDragSelection(this.params);\n            }\n        };\n    }\n\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onReady();\n        }\n        this.wavesurfer.on('ready', this._onReady);\n    }\n\n    destroy() {\n        this.wavesurfer.un('ready', this._onReady);\n        this.disableDragSelection();\n        this.clear();\n    }\n    /* Add a region. */\n    add(params) {\n        const region = new this.wavesurfer.Region(params, this.wavesurfer);\n\n        this.list[region.id] = region;\n\n        region.on('remove', () => {\n            delete this.list[region.id];\n        });\n\n        return region;\n    }\n\n    /* Remove all regions. */\n    clear() {\n        Object.keys(this.list).forEach(id => {\n            this.list[id].remove();\n        });\n    }\n\n    enableDragSelection(params) {\n        const slop = params.slop || 2;\n        let drag;\n        let start;\n        let region;\n        let touchId;\n        let pxMove = 0;\n\n        const eventDown = e => {\n            if (e.touches && e.touches.length > 1) {\n                return;\n            }\n            touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n            drag = true;\n            start = this.wavesurfer.drawer.handleEvent(e, true);\n            region = null;\n        };\n        this.wrapper.addEventListener('mousedown', eventDown);\n        this.wrapper.addEventListener('touchstart', eventDown);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchstart', eventDown);\n            this.wrapper.removeEventListener('mousedown', eventDown);\n        });\n\n        const eventUp = e => {\n            if (e.touches && e.touches.length > 1) {\n                return;\n            }\n\n            drag = false;\n            pxMove = 0;\n\n            if (region) {\n                region.fireEvent('update-end', e);\n                this.wavesurfer.fireEvent('region-update-end', region, e);\n            }\n\n            region = null;\n        };\n        this.wrapper.addEventListener('mouseup', eventUp);\n        this.wrapper.addEventListener('touchend', eventUp);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchend', eventUp);\n            this.wrapper.removeEventListener('mouseup', eventUp);\n        });\n\n        const eventMove = e => {\n            if (!drag) {\n                return;\n            }\n            if (++pxMove <= slop) {\n                return;\n            }\n\n            if (e.touches && e.touches.length > 1) {\n                return;\n            }\n            if (e.targetTouches && e.targetTouches[0].identifier != touchId) {\n                return;\n            }\n\n            if (!region) {\n                region = this.add(params || {});\n            }\n\n            const duration = this.wavesurfer.getDuration();\n            const end = this.wavesurfer.drawer.handleEvent(e);\n            region.update({\n                start: Math.min(end * duration, start * duration),\n                end: Math.max(end * duration, start * duration)\n            });\n        };\n        this.wrapper.addEventListener('mousemove', eventMove);\n        this.wrapper.addEventListener('touchmove', eventMove);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchmove', eventMove);\n            this.wrapper.removeEventListener('mousemove', eventMove);\n        });\n    }\n\n    disableDragSelection() {\n        this.fireEvent('disable-drag-selection');\n    }\n\n    /* Get current region\n     *  The smallest region that contains the current time.\n     *  If several such regions exist, we take the first.\n     *  Return null if none exist. */\n    getCurrentRegion() {\n        const time = this.wavesurfer.getCurrentTime();\n        let min = null;\n        Object.keys(this.list).forEach(id => {\n            const cur = this.list[id];\n            if (cur.start <= time && cur.end >= time) {\n                if (!min || cur.end - cur.start < min.end - min.start) {\n                    min = cur;\n                }\n            }\n        });\n\n        return min;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/regions.js"],"sourceRoot":""}